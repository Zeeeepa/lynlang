// Debug test for nested Result inline construction
{ io, Result } = @std

main = () i32 {
    io.println("Creating nested Result inline...")
    nested = Result.Ok(Result.Ok(42))
    io.println("Nested created")
    
    io.println("Extracting from outer...")
    nested ?
        | Result.Ok(inner) {
            io.println("Got inner from outer")
            inner ?
                | Result.Ok(val) {
                    io.println("Got value from inner: ${val}")
                    val == 42 ? | true => 0 | false => 1
                }
                | Result.Err(e) => 2
        }
        | Result.Err(e) => 3
}