// Zen Standard Library: Character Utilities
// Functions for ASCII character classification and conversion

// ============================================================================
// Character Classification
// ============================================================================

// Check if ASCII digit (0-9)
is_digit = (c: u8) bool {
    c >= 48 && c <= 57
}

// Check if ASCII letter (A-Z, a-z)
is_alpha = (c: u8) bool {
    (c >= 65 && c <= 90) || (c >= 97 && c <= 122)
}

// Check if alphanumeric
is_alphanumeric = (c: u8) bool {
    is_digit(c) || is_alpha(c)
}

// Check if whitespace (space, tab, newline, carriage return)
is_whitespace = (c: u8) bool {
    c == 32 || c == 9 || c == 10 || c == 13
}

// Check if uppercase letter
is_uppercase = (c: u8) bool {
    c >= 65 && c <= 90
}

// Check if lowercase letter
is_lowercase = (c: u8) bool {
    c >= 97 && c <= 122
}

// Check if hex digit (0-9, A-F, a-f)
is_hex_digit = (c: u8) bool {
    is_digit(c) || (c >= 65 && c <= 70) || (c >= 97 && c <= 102)
}

// Check if octal digit (0-7)
is_octal_digit = (c: u8) bool {
    c >= 48 && c <= 55
}

// Check if binary digit (0-1)
is_binary_digit = (c: u8) bool {
    c == 48 || c == 49
}

// Check if ASCII control character (0-31, 127)
is_control = (c: u8) bool {
    c < 32 || c == 127
}

// Check if printable ASCII (32-126)
is_printable = (c: u8) bool {
    c >= 32 && c <= 126
}

// Check if ASCII punctuation
is_punctuation = (c: u8) bool {
    (c >= 33 && c <= 47) ||   // ! " # $ % & ' ( ) * + , - . /
    (c >= 58 && c <= 64) ||   // : ; < = > ? @
    (c >= 91 && c <= 96) ||   // [ \ ] ^ _ `
    (c >= 123 && c <= 126)    // { | } ~
}

// ============================================================================
// Character Conversion
// ============================================================================

// Convert to uppercase (returns same if not lowercase)
to_uppercase = (c: u8) u8 {
    is_lowercase(c) ?
        | true { return c - 32 }
        | false { return c }
}

// Convert to lowercase (returns same if not uppercase)
to_lowercase = (c: u8) u8 {
    is_uppercase(c) ?
        | true { return c + 32 }
        | false { return c }
}

// Convert digit char to integer value (returns -1 if not digit)
digit_to_int = (c: u8) i32 {
    is_digit(c) ?
        | true { return cast(c - 48, i32) }
        | false { return -1 }
}

// Convert hex digit to integer value (returns -1 if not hex)
hex_to_int = (c: u8) i32 {
    is_digit(c) ?
        | true { return cast(c - 48, i32) }
        | false {
            c >= 65 && c <= 70 ?
                | true { return cast(c - 55, i32) }  // A=10, B=11, etc.
                | false {
                    c >= 97 && c <= 102 ?
                        | true { return cast(c - 87, i32) }  // a=10, b=11, etc.
                        | false { return -1 }
            }
    }
}

// ============================================================================
// ASCII Constants
// ============================================================================

NUL = 0
TAB = 9
NEWLINE = 10
CARRIAGE_RETURN = 13
SPACE = 32
