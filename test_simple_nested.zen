// Simple nested conditional test
extern printf = (format: *i8, ...) i32

test_nested = (x: i32) i32 {
    return x == 0 ? 
        | true => 100
        | false => (x == 1 ? | true => 200 | false => 300)
}

main = () i32 {
    printf("test_nested(0) = %d (expect 100)\n", test_nested(0))
    printf("test_nested(1) = %d (expect 200)\n", test_nested(1))
    printf("test_nested(2) = %d (expect 300)\n", test_nested(2))
    return 0
}