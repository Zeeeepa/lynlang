{ io, Option } = @std

main = () void {
    // Test valid float parsing with exact value check
    s1 = "3.14159"
    result1 = s1.to_f64()
    
    // First check if it's Some or None
    result1 ?
        | Option.Some(v) { 
            // Check the actual value
            v > 3.0 ? 
                | true { io.println("SUCCESS: Got valid float > 3.0: ${v}") }
                | false { 
                    v == 0.0 ?
                        | true { io.println("ERROR: Got zero value: ${v}") }
                        | false { io.println("PARTIAL: Got non-zero but wrong: ${v}") }
                }
        }
        | Option.None { 
            io.println("ERROR: Got None when expecting Some") 
        }
    
    // Test invalid string
    s2 = "not_a_number"
    result2 = s2.to_f64()
    result2 ?
        | Option.Some(v) { io.println("ERROR: Parsed invalid '${s2}' as: ${v}") }
        | Option.None { io.println("SUCCESS: Correctly rejected '${s2}'") }
}