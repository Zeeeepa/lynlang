// Test divide closure issue
{ io, Result } = @std

main = () i32 {
    // Test closure with conditional return
    divide = (a: f64, b: f64) Result<f64, string> {
        // Use if-pattern approach
        condition = b == 0.0
        condition ?
            | true { return Result.Err("Division by zero") }
            | false { return Result.Ok(a / b) }
    }
    
    // Test it
    result = divide(10.0, 2.0)
    result ?
        | Result.Ok(val) { io.println("Result: ${val}") }
        | Result.Err(e) { io.println("Error: ${e}") }
    
    return 0
}