// Simplest possible test for nested generic return issue
{ io } = @std
{ Result, Option } = @std

// Super simple test - return nested directly
get_nested = () Result<Option<i32>, string> {
    return Result.Ok(Option.Some(42))
}

main = () void {
    nested = get_nested()
    nested ?
        | Result.Ok(opt) {
            opt ?
                | Option.Some(v) { io.println("Value: ${v}") }
                | Option.None { io.println("None") }
        }
        | Result.Err(e) { io.println("Error") }
}