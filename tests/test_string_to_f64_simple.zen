{ io, Option } = @std

main = () void {
    // Test exact value "3.14159"
    s1 = "3.14159"
    result1 = s1.to_f64()
    
    result1 ?
        | Option.Some(v) { 
            io.println("Got Some with value: ${v}")
            // Try printing the raw value directly
            io.print_float(v)
            io.println("")
        }
        | Option.None { 
            io.println("Got None") 
        }
    
    // Test "100"
    s2 = "100"
    result2 = s2.to_f64()
    result2 ?
        | Option.Some(v) { io.println("Parsed '100' as: ${v}") }
        | Option.None { io.println("Failed to parse '100'") }
    
    // Test invalid
    s3 = "xyz"
    result3 = s3.to_f64()
    result3 ?
        | Option.Some(v) { io.println("ERROR: Parsed 'xyz' as: ${v}") }
        | Option.None { io.println("Correctly rejected 'xyz'") }
}