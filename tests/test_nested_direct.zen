// Test direct creation and extraction of nested Result
{ io, Result } = @std

main = () i32 {
    // Create inner Result
    inner = Result.Ok(42)
    
    // Create outer Result containing inner
    outer = Result.Ok(inner)
    
    // Extract using pattern matching
    outer ?
        | Result.Ok(extracted) {
            io.println("Extracted inner result")
            extracted ?
                | Result.Ok(val) {
                    io.println("Inner value: ${val}")
                    val == 42 ?
                        | true { 0 }
                        | false { 1 }
                }
                | Result.Err(e) {
                    io.println("Inner error: ${e}")
                    2
                }
        }
        | Result.Err(e) {
            io.println("Outer error: ${e}")
            3
        }
}