// Test using val from nested Result
{ io, Result } = @std

main = () i32 {
    inner = Result.Ok(42)
    outer = Result.Ok(inner)
    
    outer ?
        | Result.Ok(inner_result) {
            inner_result ?
                | Result.Ok(val) {
                    // Try to use val as i32
                    val  // Return val directly
                }
                | Result.Err(e) {
                    return -1
                }
        }
        | Result.Err(e) {
            return -2
        }
}