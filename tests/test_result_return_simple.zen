// Simple test for Result return with conditionals
{ io, Result } = @std

divide_safe = (a: i32, b: i32) Result<i32, string> {
    b == 0 ?
        | true { return Result.Err("Division by zero") }
        | false { return Result.Ok(a / b) }
}

main = () i32 {
    result = divide_safe(10, 2)
    result ?
        | .Ok(val) { io.println("10 / 2 = ${val}") }
        | .Err(err) { io.println("Error: ${err}") }
    
    result2 = divide_safe(10, 0)
    result2 ?
        | .Ok(val) { io.println("10 / 0 = ${val}") }
        | .Err(err) { io.println("Error: ${err}") }
    
    return 0
}