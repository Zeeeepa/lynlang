// Test UFC with .raise()
{ io, Result , get_default_allocator} = @std

maybe_fail = (fail: bool) Result<i32, StaticString> {
    fail ? {
        return Result.Err("Failed")
    }
    return Result.Ok(42)
}

main = () i32 {
    alloc = get_default_allocator()
    // Test that maybe_fail returns a Result
    result = maybe_fail(false)
    io.println("Result created")
    
    // Test pattern matching directly
    result ?
        | Result.Ok(val) { io.println("Pattern match: ${val}") }
        | Result.Err(e) { io.println("Error: ${e}") }
    
    // Now test UFC .raise() - this should call compile_raise_expression
    // But it seems like it's being compiled as a regular method call instead
    value = result.raise()
    io.println("After raise: ${value}")
    
    return 0
}