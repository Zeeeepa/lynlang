// Test Some then None pattern matching
{ io , get_default_allocator} = @std

main = () void {
    alloc = get_default_allocator()
    val = Some(42)
    empty = None
    
    io.println("Testing Some")
    val ?
        | Some(x) { io.println("Got: ${x}") }
        | None { io.println("Was None") }
    
    io.println("Testing None")
    empty ?
        | Some(y) { io.println("Got: ${y}") }
        | None { io.println("Was None again") }
}