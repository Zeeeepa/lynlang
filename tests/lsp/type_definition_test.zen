{ Result, Option } = @std

Color enum {
    Red
    Green
    Blue
}

divide = (a: f64, b: f64) Result<f64, StaticString> {
    return Result.Ok(a)
}

main = () i32 {
    // Test type definition: hovering over 'result' should allow jump to Result type
    result = divide(10.0, 2.0)

    // Test document highlight: clicking on 'result' should highlight both uses
    result ?
        | Ok(val) {
            // hovering over 'val' should show f64 and allow jump to f64 definition
            println("Got value")
        }
        | Err(msg) {
            // hovering over 'msg' should show StaticString
            println("Error")
        }

    // Test with custom enum
    color = Color.Red

    color ?
        | Red { println("Red") }
        | Green { println("Green") }
        | Blue { println("Blue") }

    return 0
}
