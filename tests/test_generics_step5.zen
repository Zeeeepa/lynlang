// Test closure returning Option<i32>
{ io, Option } = @std

main = () void {
    io.println("=== Closure Returning Option<i32> ===")
    
    // Closure that returns Option<i32>
    make_option = (val: i32) Option<i32> {
        val > 0 ?
            | true { Option.Some(val) }
            | false { Option.None }
    }
    
    result1 = make_option(50)
    result1 ?
        | Option.Some(v) { io.println("make_option(50) = Some(${v})") }
        | Option.None { io.println("make_option(50) = None") }
    
    result2 = make_option(-10)
    result2 ?
        | Option.Some(v) { io.println("make_option(-10) = Some(${v})") }
        | Option.None { io.println("make_option(-10) = None") }
    
    io.println("Test complete!")
}