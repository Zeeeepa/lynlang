// Basic stdlib tests

{ Option, some, none, is_some, is_none } = @std.core.option
{ Result, ok, err, is_ok, is_err } = @std.core.result
{ compiler } = @std

main = () void {
    // Test Option type
    opt_val: Option<i32> = Option.Some(42)
    opt_none: Option<i32> = Option.None
    
    opt_val ?
        | Some(v) { 
            // Should print 42
            compiler.raw_allocate(1)
        }
        | None { }
    
    // Test Result type
    res_ok: Result<i32, String> = Result.Ok(100)
    res_err: Result<i32, String> = Result.Err("error")
    
    res_ok ?
        | Ok(v) {
            // Should execute
            compiler.raw_allocate(1)
        }
        | Err(e) { }
    
    res_err ?
        | Ok(v) { }
        | Err(e) {
            // Should execute
            compiler.raw_allocate(1)
        }
}
