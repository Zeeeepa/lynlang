{ io, Array } = @std

main = () i32 {
    // Create array with larger capacity
    arr: Array<i32> = Array.new(100, 0)
    
    // Push exactly 3 values
    arr.push(111)
    arr.push(222)  
    arr.push(333)
    
    io.println("Pushed 111, 222, 333")
    io.println("Length: ${arr.len()}")
    
    // Verify they're there
    io.println("arr[0] = ${arr.get(0)}")
    io.println("arr[1] = ${arr.get(1)}")
    io.println("arr[2] = ${arr.get(2)}")
    
    // Pop the last one
    result = arr.pop()
    result ?
        | Option.Some(val) { 
            io.println("================")
            io.println("POPPED VALUE: ${val}")
            io.println("EXPECTED: 333")
            io.println("================")
        }
        | Option.None { 
            io.println("ERROR: Got None!") 
        }
    
    return 0
}