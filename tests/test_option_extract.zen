// Test Option pattern matching with payload extraction
{ io , get_default_allocator} = @std

main = () i32 {
    alloc = get_default_allocator()
    // Test Some with payload extraction
    x = Some(42)
    
    result = x ? 
        | .Some(value) => value
        | .None => -1
    
    io.println("Extracted from Some: ${result}")
    
    // Test None case
    y = None
    result2 = y ?
        | .Some(value) => value
        | .None => -999
        
    io.println("None gives: ${result2}")
    
    // Test with StaticString payload
    msg = Some("hello")
    msg_result = msg ?
        | .Some(s) => s
        | .None => "nothing"
    
    io.println("Message: ${msg_result}")
    
    0
}