// Test closure with raise
{ io, Result } = @std

main = () i32 {
    // Test 1: Simple closure returning Result.Ok with raise
    get_value = () {
        io.println("In closure, about to return Result.Ok(42)")
        return Result.Ok(42)
    }
    
    io.println("Created closure")
    
    // Use raise on the closure call
    val = get_value().raise()
    io.println("Raised value: ${val}")
    
    val == 42 ? { return 0 }
    
    return 1
}