// Simple test for Array methods
{io, get_default_allocator, Option, Array} = @std

main = () void {
    io.println("=== Testing Array Methods ===")
    
    // Create a new array with capacity 10 and default value 0
    alloc = get_default_allocator()
    arr: Array<i32> = Array.new(alloc, 10, 0)
    
    // Test len() method (should be 0 initially)
    io.println("Initial length: ${arr.len()}")
    
    // Test push() method
    arr.push(10)
    arr.push(20)
    arr.push(30)
    
    io.println("After push, length: ${arr.len()}")
    
    // Test get() method
    io.println("arr[0] = ${arr.get(0)}")
    io.println("arr[1] = ${arr.get(1)}")
    io.println("arr[2] = ${arr.get(2)}")
    
    // Test set() method
    arr.set(1, 100)
    io.println("After set(1, 100), arr[1] = ${arr.get(1)}")
    
    // Test pop() method
    val = arr.pop()
    val ?
        | Option.Some(v) { io.println("Popped value: ${v}") }
        | Option.None { io.println("Pop returned None") }
    
    io.println("After pop, length: ${arr.len()}")
    
    io.println("=== Array Methods Test Complete ===")
}