// Test HashMap with insert and get
{ io, HashMap } = @std

// Simple hash function for strings
string_hash = (s: string) i64 {
    return 42 as i64
}

// Equality function for strings  
string_eq = (a: string, b: string) bool {
    // String comparison returns i64, need to cast to bool
    cmp ::= a == b
    cmp ? { 
        return true 
    }
    return false
}

main = () i32 {
    io.println("Testing HashMap insert and get...")
    
    // Create HashMap<string, i32>
    map ::= HashMap<string, i32>.new()
    
    // Insert a key-value pair
    map.insert("test", 123, string_hash, string_eq)
    io.println("Inserted key-value pair")
    
    // Try to get the value
    result ::= map.get("test", string_hash, string_eq)
    
    // Check size
    size ::= map.len()
    io.println("Map size after insert: ${size}")
    
    return 0
}
