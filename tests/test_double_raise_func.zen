// Test double raise in function
{ io, Result , get_default_allocator} = @std

get_double_nested = () Result<Result<i32, StaticString>, StaticString> {
    Result.Ok(Result.Ok(100))
}

test_double_nested_result = () void {
    io.println("Test 1: Double nested Result<Result<T,E>,E>")
    
    outer = get_double_nested()
    inner = outer.raise()
    value = inner.raise()
    
    io.println("  Expected: 100, Got: ${value}")
}

main = () void {
    alloc = get_default_allocator()
    test_double_nested_result()
}