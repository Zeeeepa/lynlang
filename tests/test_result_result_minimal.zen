// Minimal test for Result<Result<i32, string>, string>
{ io, Result } = @std

main = () i32 {
    io.println("=== Testing Result<Result<i32>> ===")
    
    // Direct inline construction
    nested = Result.Ok(Result.Ok(42))
    
    // First level extraction
    nested ?
        | Result.Ok(inner) {
            io.println("Outer Ok extracted, inner is a Result")
            
            // Try to check what the inner is
            inner ?
                | Result.Ok(v) { 
                    io.println("Inner value: ${v}")
                    io.println("Expected: 42")
                }
                | Result.Err(e) { io.println("Inner error: ${e}") }
        }
        | Result.Err(e) { io.println("Outer error: ${e}") }
    
    0
}