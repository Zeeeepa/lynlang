// Test Result pattern matching in expression context
{ io } = @std

// Import Result and Option from stdlib
{ Result, Ok, Err, Option, Some, None } = @std

// Function with pattern matching as expression
test_pattern = () Result<i32, string> {
    maybe: Option<i32> = Some(42)
    
    // Pattern matching in expression context (not statement)
    maybe ?
        | Some(val) { return Result.Ok(val) }
        | None { return Result.Err("no value") }
}

main = () void {
    io.println("Testing pattern matching")
    result = test_pattern()
    
    result ?
        | Result.Ok(val) { io.println("Got value") }
        | Result.Err(e) { io.println("Got error") }
}