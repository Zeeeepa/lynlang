// Debug HashMap with simple i32 keys
{ io, HashMap } = @std

main = () i32 {
    // Create HashMap<i32, i32>
    map ::= HashMap<i32, i32>.new()
    
    // Simple hash function for i32 - just return as i64
    hash_fn = (x: i32) i64 {
        return x as i64
    }
    
    // Simple equality function for i32 - returns 1 if equal, 0 otherwise
    eq_fn = (a: i32, b: i32) i64 {
        io.println("Comparing ${a} with ${b}")
        a == b ?
            | true { return 1 as i64 }
            | false { return 0 as i64 }
    }
    
    // Insert value
    io.println("Inserting 5 -> 100")
    map.insert(5, 100, hash_fn, eq_fn)
    
    io.println("Getting value for key 5...")
    result ::= map.get(5, hash_fn, eq_fn)
    
    result ?
        | .Some(value) { io.println("Got: ${value}") }
        | .None { io.println("Not found") }
    
    return 0
}