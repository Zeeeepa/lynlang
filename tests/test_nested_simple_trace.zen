// Very simple nested Result test with debug output
{ io, Result } = @std

main = () i32 {
    // Create inner Result directly
    inner = Result.Ok(42)
    io.println("Created inner Result.Ok(42)")
    
    // Test if we can extract from inner directly
    inner ? | Result.Ok(v) => io.println("Inner value direct match: ${v}")
           | Result.Err(e) => io.println("Inner error: ${e}")
    
    // Create outer Result containing inner
    outer = Result.Ok(inner)
    io.println("Created outer Result.Ok(inner)")
    
    // Test pattern matching on outer
    outer ? | Result.Ok(got_inner) => {
        io.println("Got inner from outer")
        got_inner ? | Result.Ok(v) => {
            io.println("Inner value from nested: ${v}")
            v == 42 ? | true => 0
                     | false => 1
        } | Result.Err(e) => {
            io.println("Inner error from nested: ${e}")
            2
        }
    } | Result.Err(e) => {
        io.println("Outer error: ${e}")
        3
    }
}