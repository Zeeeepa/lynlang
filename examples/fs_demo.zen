// File System Demo for Zen Language
// Demonstrates file and directory operations
{ io } = @std
{ fs } = @std

main = () i32 {
    io.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    io.println("       ZEN FILE SYSTEM OPERATIONS          ")
    io.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    io.println("")
    
    // Create a test file
    io.println("ğŸ“ Writing a text file...")
    content = "Hello from Zen!\nThis is a test file.\nFile operations work great!"
    result = fs.write_file("demo.txt", content)
    result ?
        | Result.Ok(_) { io.println("   âœ“ File 'demo.txt' created successfully") }
        | Result.Err(e) { io.println("   âœ— Error: ${e}") }
    
    // Check if file exists
    io.println("\nğŸ” Checking file existence...")
    exists = fs.exists("demo.txt")
    exists ?
        | true { io.println("   âœ“ File 'demo.txt' exists") }
        | false { io.println("   âœ— File not found") }
    
    // Create a directory
    io.println("\nğŸ“ Creating a directory...")
    dir_result = fs.create_dir("zen_output")
    dir_result ?
        | Result.Ok(_) { io.println("   âœ“ Directory 'zen_output' created") }
        | Result.Err(e) { io.println("   âœ— Error: ${e}") }
    
    // Write another file in the directory (conceptually)
    io.println("\nğŸ“ Writing config file...")
    config = "# Zen Config\nversion=1.0\nmode=production"
    config_result = fs.write_file("config.ini", config)
    config_result ?
        | Result.Ok(_) { io.println("   âœ“ Config file created") }
        | Result.Err(e) { io.println("   âœ— Error: ${e}") }
    
    // Clean up - remove files
    io.println("\nğŸ—‘ï¸  Cleaning up...")
    
    remove1 = fs.remove_file("demo.txt")
    remove1 ?
        | Result.Ok(_) { io.println("   âœ“ Removed demo.txt") }
        | Result.Err(e) { io.println("   âœ— Error removing demo.txt") }
    
    remove2 = fs.remove_file("config.ini")
    remove2 ?
        | Result.Ok(_) { io.println("   âœ“ Removed config.ini") }
        | Result.Err(e) { io.println("   âœ— Error removing config.ini") }
    
    io.println("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    io.println("    File System Operations Complete! ğŸ‰    ")
    io.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    
    0
}