// File System Demo for Zen Language
// Demonstrates file and directory operations
{ io } = @std
{ fs } = @std

main = () i32 {
    io.println("═══════════════════════════════════════════")
    io.println("       ZEN FILE SYSTEM OPERATIONS          ")
    io.println("═══════════════════════════════════════════")
    io.println("")
    
    // Create a test file
    io.println("📝 Writing a text file...")
    content = "Hello from Zen!\nThis is a test file.\nFile operations work great!"
    result = fs.write_file("demo.txt", content)
    result ?
        | Result.Ok(_) { io.println("   ✓ File 'demo.txt' created successfully") }
        | Result.Err(e) { io.println("   ✗ Error: ${e}") }
    
    // Check if file exists
    io.println("\n🔍 Checking file existence...")
    exists = fs.exists("demo.txt")
    exists ?
        | true { io.println("   ✓ File 'demo.txt' exists") }
        | false { io.println("   ✗ File not found") }
    
    // Create a directory
    io.println("\n📁 Creating a directory...")
    dir_result = fs.create_dir("zen_output")
    dir_result ?
        | Result.Ok(_) { io.println("   ✓ Directory 'zen_output' created") }
        | Result.Err(e) { io.println("   ✗ Error: ${e}") }
    
    // Write another file in the directory (conceptually)
    io.println("\n📝 Writing config file...")
    config = "# Zen Config\nversion=1.0\nmode=production"
    config_result = fs.write_file("config.ini", config)
    config_result ?
        | Result.Ok(_) { io.println("   ✓ Config file created") }
        | Result.Err(e) { io.println("   ✗ Error: ${e}") }
    
    // Clean up - remove files
    io.println("\n🗑️  Cleaning up...")
    
    remove1 = fs.remove_file("demo.txt")
    remove1 ?
        | Result.Ok(_) { io.println("   ✓ Removed demo.txt") }
        | Result.Err(e) { io.println("   ✗ Error removing demo.txt") }
    
    remove2 = fs.remove_file("config.ini")
    remove2 ?
        | Result.Ok(_) { io.println("   ✓ Removed config.ini") }
        | Result.Err(e) { io.println("   ✗ Error removing config.ini") }
    
    io.println("\n═══════════════════════════════════════════")
    io.println("    File System Operations Complete! 🎉    ")
    io.println("═══════════════════════════════════════════")
    
    0
}