// utils.zen - Example assertions and demo
// Shows how to use stdlib modules

{ io } = @std
{ is_digit, is_alpha, is_whitespace } = @std.char
{ abs, max } = @std.math.math

// ============================================================================
// SIMPLE ASSERTIONS (see stdlib/testing for full test runner)
// ============================================================================

assert_equal = (a: i32, b: i32, msg: StaticString) void {
    a == b ?
        | true  { io.println("[PASS] ${msg}") }
        | false { io.println("[FAIL] ${msg}: expected ${b}, got ${a}") }
}

assert_true = (cond: bool, msg: StaticString) void {
    cond ?
        | true  { io.println("[PASS] ${msg}") }
        | false { io.println("[FAIL] ${msg}") }
}

assert_false = (cond: bool, msg: StaticString) void {
    cond ?
        | true  { io.println("[FAIL] ${msg}: expected false") }
        | false { io.println("[PASS] ${msg}") }
}

// ============================================================================
// DEMO - Using stdlib modules
// ============================================================================

run_utils_demo = () void {
    io.println("=== STDLIB USAGE DEMO ===\n")

    // Character utilities from @std.char
    io.println("@std.char:")
    io.println("  is_digit('5') = ${is_digit(53)}")
    io.println("  is_alpha('A') = ${is_alpha(65)}")
    io.println("  is_whitespace(' ') = ${is_whitespace(32)}")

    // Math utilities from @std.math
    io.println("\n@std.math:")
    io.println("  abs(-42) = ${abs(-42)}")
    io.println("  max(5, 10) = ${max(5, 10)}")

    // Assertions
    io.println("\nAssertions:")
    assert_true(is_digit(48), "48 is digit '0'")
    assert_equal(abs(-5), 5, "abs(-5) == 5")
    assert_equal(max(3, 7), 7, "max(3,7) == 7")
}
