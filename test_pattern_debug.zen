// Debug test for pattern matching with nested generics
{ io, Result } = @std

main = () void {
    // Test: Pattern matching on nested Result
    get_nested = () Result<Result<i32, string>, string> {
        Result.Ok(Result.Ok(100))
    }
    
    nested = get_nested()
    
    // This should work - pattern match on outer Result
    nested ?
        | Ok(inner) {
            io.println("Outer is Ok")
            // Pattern match on inner Result
            inner ?
                | Ok(v) {
                    io.println("Inner value: ${v}")
                }
                | Err(e) {
                    io.println("Inner error: ${e}")
                }
        }
        | Err(e) {
            io.println("Outer error: ${e}")
        }
}